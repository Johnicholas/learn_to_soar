setup {

source skew-binary-heap.soar

sp {initialize
    (state <s> ^superstate nil)
-->
    (<s> ^name test-skew-binary-heap)}

# TODO: define less-than and less-or-equal operators for test data

}

test "isEmpty(deleteMin(insert(Test(0),empty))) should be true" {

sp {propose*empty
    (state <s> ^name test-skew-binary-heap -^empty-heap-is)
-->
    (<s> ^operator <o>)
    (<o> ^name empty-heap ^return-to empty-heap-is)}

sp {propose*insert-heap*test*zero
    (state <s> ^name test-skew-binary-heap ^empty-heap-is <e> -^singleton-heap-is)
-->
    (<s> ^operator <o>)
    (<o> ^name insert-heap ^element <t0> ^heap <e> ^return-to singleton-heap-is)
    (<t0> ^test 0)}

sp {propose*delete-min
    (state <s> ^name test-skew-binary-heap ^singleton-heap-is <singleton> -^presume-empty-heap-is)
-->
    (<s> ^operator <o>)
    (<o> ^name delete-min ^heap <singleton> ^return-to presume-empty-heap-is)}

sp {propose*is-empty
    (state <s> ^name test-skew-binary-heap ^presume-empty-heap-is <e> -^test-result-is)
-->
    (<s> ^operator <o>)
    (<o> ^name is-empty ^heap <e> ^return-to test-result-is)}

sp {pass
    (state <s> ^name test-skew-binary-heap ^test-result-is true)
-->
    (pass)}

}

test "isEmpty(insert(Test(28), empty)) should be false" {

sp {propose*empty
    (state <s> ^name test-skew-binary-heap -^empty-heap-is)
-->
    (<s> ^operator <o>)
    (<o> ^name empty-heap ^return-to empty-heap-is)}

sp {propose*insert-heap*test*28
    (state <s> ^name test-skew-binary-heap ^empty-heap-is <e> -^singleton-heap-is)
-->
    (<s> ^operator <o>)
    (<o> ^name insert-heap ^element <t28> ^heap <e> ^return-to singleton-heap-is)
    (<t28> ^test 28)}

sp {propose*is-empty
    (state <s> ^name test-skew-binary-heap ^singleton-heap-is <e> -^test-result-is)
-->
    (<s> ^operator <o>)
    (<o> ^name is-empty ^heap <e> ^return-to test-result-is)}

sp {pass
    (state <s> ^name test-skew-binary-heap ^test-result-is false)
-->
    (pass)}

}

#"findMin(deleteMin(insert(Test(0), insert(Test(0), insert(Test(0), empty))))) should be 0"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(0), insert(Test(1), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(1), insert(Test(0), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(1), insert(Test(0), insert(Test(0), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(0), insert(Test(2), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(1), insert(Test(1), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(2), insert(Test(0), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(1), insert(Test(0), insert(Test(1), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(1), insert(Test(1), insert(Test(0), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(2), insert(Test(0), insert(Test(0), empty)))))) should be Test(1)"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(1), insert(Test(2), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(1), insert(Test(0), insert(Test(2), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(1), insert(Test(2), insert(Test(0), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(2), insert(Test(1), insert(Test(0), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(2), insert(Test(0), insert(Test(1), empty)))))) should be Test(2)"
#"findMin(deleteMin(deleteMin(insert(Test(0), insert(Test(2), insert(Test(1), empty)))))) should be Test(2)"
