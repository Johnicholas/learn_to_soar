
source shift-reset-3.soar
source shift-reset-3-exps.soar

#learn --on
waitsnc --on

sp {initialize
  (state <s> ^superstate nil)
-->
  (<s> ^name shift-reset-3-test ^top-state <s>)}

sp {shift-reset-3-test*propose*create-interpret
  (state <s> ^name shift-reset-3-test -^interpret)
-->
  (<s> ^operator <o> + =)
  (<o> ^name create-interpret ^return-to interpret)}

sp {shift-reset-3-test*propose*create-decompress-service
  (state <s> ^name shift-reset-3-test -^decompress-service)
-->
  (<s> ^operator <o> + =)
  (<o> ^name create-decompress-service ^return-to decompress-service)}

sp {shift-reset-3-test*propose*create-exp
  (state <s> ^name shift-reset-3-test -^exp ^interpret ^decompress-service)
-->
  (<s> ^operator <o> + =)
  (<o> ^name create-exp)}

sp {shift-reset-3-test*apply*create-exp
  (state <s> ^name shift-reset-3-test ^operator.name create-exp ^interpret <INTERPRET> ^decompress-service <DECOMPRESSSERVICE>)
-->
  (<s> ^exp.app <a1>)
  (<a1> ^major <INTERPRET> ^minor.reset.app <a2>)
  (<a2> ^major <DECOMPRESSSERVICE> ^minor getchar)}

sp {shift-reset-3-test*propose*run
  (state <s> ^name shift-reset-3-test ^exp <e> -^run-done)
-->
  (<s> ^operator <o> +)
  (<o> ^name run ^exp <e> ^return-to <s>)}


